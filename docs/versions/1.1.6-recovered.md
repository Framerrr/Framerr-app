# Framerr v1.1.6 Release Notes

**Release Date:** 2025-12-01  
**Type:** Patch Release (Bug Fixes & UX Improvements)

---

## ğŸ¯ Overview

This release focuses on fixing widget settings refresh issues and improving dashboard UX. All changes apply instantly without requiring page refreshes.

---

## ğŸ› Bug Fixes

### Bug #7: Widget Settings Instant Updates
**Priority:** Medium  
**Status:** âœ… Fixed

**Problem:**  
Widget setting changes (Flatten UI toggle, Hide Header toggle, Custom Name, Custom Icon) required full page refresh to take effect.

**Solution:**  
Added event dispatch system to notify Dashboard component of configuration changes.

**Files Modified:**
- `src/components/settings/ActiveWidgets.jsx`
  - Added `widget-config-updated` event dispatch after successful saves
  - Applied to: Flatten UI toggle, Hide Header toggle, Custom Name input, Icon selection

**Impact:**  
All widget settings now update Dashboard instantly âœ¨

**Commit:** e8e21fa

---

### Bug #8: Dashboard Greeting Instant Updates  
**Priority:** Low  
**Status:** âœ… Fixed

**Problem:**  
Dashboard greeting enable/disable and custom text changes required page refresh.

**Solution:**  
Added event dispatch pattern (same as Bug #7).

**Files Modified:**
- `src/components/settings/CustomizationSettings.jsx`
  - Added `greeting-updated` event dispatch in `handleSaveGreeting`
- `src/pages/Dashboard.jsx`
  - Added `greeting-updated` event listener
  - Updates greeting state immediately when settings change

**Impact:**  
Greeting changes apply instantly without refresh

**Commit:** ceafa92

---

## âœ¨ UX Improvements

### Widgets Now Add to Top
**Status:** âœ… Implemented

**Change:**  
New widgets now appear at top of dashboard (position 0,0) instead of bottom.

**Implementation:**
- Changed default Y position from `Infinity` to `0`
- Added logic to shift existing widgets down when new widget added
- Ensures exact (0, 0) placement

**Files Modified:**
- `src/pages/Dashboard.jsx`
  - Modified `handleAddWidgetFromModal` to shift existing widgets first
  - New widgets placed at top, existing widgets push down automatically

**Impact:**  
Better UX for widget organization - newest widgets always appear at top

**Commits:** 1af2c98, 0aa3cde

---

### Link Grid Full-Width Default
**Status:** âœ… Implemented

**Change:**  
Link Grid widget default size changed from w:4 h:2 to w:12 h:1 (full-width, single row).

**Files Modified:**
- `src/utils/widgetRegistry.js`
  - Updated `link-grid` default size to `{ w: 12, h: 1 }`

**Impact:**  
New Link Grid widgets span full dashboard width in compact horizontal layout

**Commit:** 1af2c98

---

## ğŸ“¦ Technical Details

### Event System Pattern
All instant updates use custom events:
```javascript
// Dispatch from settings
window.dispatchEvent(new CustomEvent('event-name', {
    detail: { data }
}));

// Listen in Dashboard
window.addEventListener('event-name', handler);
```

### Files Changed (Summary)
1. `src/components/settings/ActiveWidgets.jsx` - Added 4 event dispatches
2. `src/components/settings/CustomizationSettings.jsx` - Added greeting event dispatch
3. `src/pages/Dashboard.jsx` - Added greeting event listener, widget positioning logic
4. `src/utils/widgetRegistry.js` - Updated link-grid default size
5. `package.json` - Version bump to 1.1.6
6. `CHANGELOG.md` - Release notes

---

## ğŸ§ª Testing

**Build Status:** âœ… All builds passed

**Manual Testing:**
- Widget settings update instantly âœ…
- Greeting updates instantly âœ…
- Widgets add to top at (0,0) âœ…
- Link Grid full-width default âœ…

---

## ğŸ“Š Deployment

**Docker Images:**
- `pickels23/framerr:1.1.6`
- `pickels23/framerr:latest`

**Digests:**
- `1.1.6`: [Will be filled after push]
- `latest`: [Will be filled after push]

**Git Tag:** v1.1.6

---

## ğŸ”„ Upgrade Notes

No special upgrade steps required. Simply pull the latest image:

```bash
docker pull pickels23/framerr:latest
# or specific version
docker pull pickels23/framerr:1.1.6
```

---

## ğŸ“ Full Commit Log

1. **e8e21fa** - fix: widget settings now update Dashboard immediately without page refresh (bug #7)
2. **1af2c98** - feat: widgets now add to top + link-grid default is full-width
3. **0aa3cde** - fix: new widgets now correctly appear at y:0 (not y:1)
4. **ceafa92** - fix: dashboard greeting now updates instantly without page refresh (bug #8)

---

**Previous Release:** v1.1.5 (2025-11-30)  
**Next Release:** TBD
