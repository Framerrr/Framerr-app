2025-12-16T02:14:22.138Z [ERROR] [WebPush] Failed to send {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE","statusCode":403,"body":"{\"reason\":\"BadJwtToken\"}","error":"Received unexpected response code"}
2025-12-16T02:15:57.359Z [WARN] 404 Not Found {"path":"/favicon.ico","method":"GET"}
2025-12-16T02:16:11.134Z [ERROR] [WebPush] Failed to send {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE","statusCode":403,"body":"{\"reason\":\"BadJwtToken\"}","error":"Received unexpected response code"}
2025-12-16T02:16:14.809Z [ERROR] [WebPush] Failed to send {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE","statusCode":403,"body":"{\"reason\":\"BadJwtToken\"}","error":"Received unexpected response code"}
2025-12-16T02:16:50.799Z [ERROR] [WebPush] Failed to send {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE","statusCode":403,"body":"{\"reason\":\"BadJwtToken\"}","error":"Received unexpected response code"}
2025-12-16T02:19:07.314Z [WARN] Login failed: Invalid password {"username":"Jon"}
2025-12-16T02:19:44.858Z [ERROR] [WebPush] Failed to send {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE","statusCode":403,"body":"{\"reason\":\"BadJwtToken\"}","error":"Received unexpected response code"}


Updating user permissions to PUID=99, PGID=100...
GID 100 already in use by group 'users', using existing group
Setting ownership on /config...
Creating upload directories...
Ensuring /config has correct permissions...

Checking for database migration...
No JSON files found - starting with fresh SQLite database

Starting Framerr as user: framerr (UID:99, GID:100)

[DB] Connected to SQLite database: /config/framerr.db
[DB] WAL mode enabled, foreign keys enforced
2025-12-16T02:13:28.353Z [INFO] [NotificationEmitter] Initialized
2025-12-16T02:13:28.367Z [DEBUG] Database at version 3, no migration needed
2025-12-16T02:13:28.367Z [DEBUG] System config loaded and cached {"timestamp":1765851208367}
2025-12-16T02:13:28.368Z [INFO] System config loaded
2025-12-16T02:13:28.368Z [INFO] Log level changed to: info

╔═══════════════════════════════════════════════════════════╗
║  Homelab Dashboard                                        ║
╚═══════════════════════════════════════════════════════════╝
2025-12-16T02:13:28.370Z [INFO] Version: 1.1.10
2025-12-16T02:13:28.370Z [INFO] Server listening on port 3001
2025-12-16T02:13:28.370Z [INFO] Environment: production
2025-12-16T02:13:28.370Z [INFO] Server started successfully
2025-12-16T02:13:28.370Z [INFO] API endpoints available
2025-12-16T02:13:28.370Z [INFO] Health check: GET /api/health
2025-12-16T02:13:30.357Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:13:30.429Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:13:37.881Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:14:21.900Z [INFO] [WebPush] VAPID keys loaded from config
2025-12-16T02:14:21.900Z [INFO] [WebPush] Sending to subscriptions {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","count":2,"endpoints":["7q3Z0Y9m_IPVn__tV5J8FycVySWhvL","BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE"]}
2025-12-16T02:14:22.024Z [INFO] [WebPush] Push sent successfully {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"7q3Z0Y9m_IPVn__tV5J8FycVySWhvL","statusCode":201,"headers":{"content-security-policy-report-only":"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/goa-520bfc14_2","cross-origin-opener-policy":"same-origin","location":"https://fcm.googleapis.com/0:1765851261999682%cc9b4facf9fd7ecd","vary":"Sec-Fetch-Site, Sec-Fetch-Mode, Sec-Fetch-Dest","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-xss-protection":"0","date":"Tue, 16 Dec 2025 02:14:22 GMT","content-length":"0","content-type":"text/html; charset=UTF-8","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"}}
2025-12-16T02:14:22.139Z [INFO] [WebPush] Test notification sent {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:14:30.374Z [INFO] [SSE] Connection closed {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:14:32.399Z [INFO] [Plex] Generating PIN with clientId: "framerr-75bf443d-faa8-4a41-8c0a-f60d448f013e"
2025-12-16T02:14:32.595Z [INFO] [Plex] PIN generated successfully: {"pinId":1270563450,"code":"95zi...","clientId":"framerr-75bf443d-faa..."}
2025-12-16T02:14:44.280Z [INFO] [Plex] Generating PIN with clientId: "framerr-75bf443d-faa8-4a41-8c0a-f60d448f013e"
2025-12-16T02:14:44.353Z [INFO] [Plex] PIN generated successfully: {"pinId":2000354084,"code":"li8i...","clientId":"framerr-75bf443d-faa..."}
2025-12-16T02:14:57.511Z [INFO] [Plex] Token obtained for user: "jonanzalone"
2025-12-16T02:14:57.805Z [INFO] [PlexSSO] User logged in: Jon
2025-12-16T02:14:57.876Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:15:33.584Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:15:38.292Z [INFO] Notification created {"id":"6bc5fb79-77aa-48ea-944b-28ca8b4af2c6","userId":"426f57e1-2283-4249-93d6-bbb3436e4092","type":"info"}
2025-12-16T02:15:42.117Z [INFO] Notification created {"id":"797dbcc3-2e80-4557-85c1-a3a4c4f6a591","userId":"426f57e1-2283-4249-93d6-bbb3436e4092","type":"info"}
2025-12-16T02:15:42.147Z [INFO] [SSE] Connection closed {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:15:49.481Z [INFO] Notification created {"id":"7f1dae95-e468-4681-9f43-c5901d159087","userId":"426f57e1-2283-4249-93d6-bbb3436e4092","type":"info"}
2025-12-16T02:15:57.571Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:16:01.881Z [INFO] Notification created {"id":"60732a6d-00be-4521-a6df-364c28b816eb","userId":"426f57e1-2283-4249-93d6-bbb3436e4092","type":"info"}
2025-12-16T02:16:01.911Z [INFO] [SSE] Connection closed {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:16:07.912Z [INFO] [SSE] Connection closed {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:16:11.015Z [INFO] [WebPush] Sending to subscriptions {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","count":2,"endpoints":["7q3Z0Y9m_IPVn__tV5J8FycVySWhvL","BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE"]}
2025-12-16T02:16:11.147Z [INFO] [WebPush] Push sent successfully {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"7q3Z0Y9m_IPVn__tV5J8FycVySWhvL","statusCode":201,"headers":{"content-security-policy-report-only":"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/goa-520bfc14_2","cross-origin-opener-policy":"same-origin","location":"https://fcm.googleapis.com/0:1765851371106246%cc9b4facf9fd7ecd","vary":"Sec-Fetch-Site, Sec-Fetch-Mode, Sec-Fetch-Dest","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-xss-protection":"0","date":"Tue, 16 Dec 2025 02:16:11 GMT","content-length":"0","content-type":"text/html; charset=UTF-8","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"}}
2025-12-16T02:16:11.147Z [INFO] [WebPush] Test notification sent {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:16:14.779Z [INFO] [WebPush] Sending to subscriptions {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","count":2,"endpoints":["7q3Z0Y9m_IPVn__tV5J8FycVySWhvL","BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE"]}
2025-12-16T02:16:14.858Z [INFO] [WebPush] Push sent successfully {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"7q3Z0Y9m_IPVn__tV5J8FycVySWhvL","statusCode":201,"headers":{"content-security-policy-report-only":"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/goa-520bfc14_2","cross-origin-opener-policy":"same-origin","location":"https://fcm.googleapis.com/0:1765851374834133%cc9b4facf9fd7ecd","vary":"Sec-Fetch-Site, Sec-Fetch-Mode, Sec-Fetch-Dest","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-xss-protection":"0","date":"Tue, 16 Dec 2025 02:16:14 GMT","content-length":"0","content-type":"text/html; charset=UTF-8","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"}}
2025-12-16T02:16:14.859Z [INFO] [WebPush] Test notification sent {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:16:25.084Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:16:36.441Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:16:46.192Z [INFO] [PushSubscriptions] Created new subscription {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","subscriptionId":"eabe9a5d-1463-4887-b6e6-5b887d0ab151"}
2025-12-16T02:16:46.192Z [INFO] [WebPush] Subscription created {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","subscriptionId":"eabe9a5d-1463-4887-b6e6-5b887d0ab151","deviceName":"Chrome on macOS"}
2025-12-16T02:16:50.696Z [INFO] [WebPush] Sending to subscriptions {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","count":3,"endpoints":["PzGc3bWTrI0aA7_tMI0Q46ebxnf5B2","7q3Z0Y9m_IPVn__tV5J8FycVySWhvL","BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE"]}
2025-12-16T02:16:50.739Z [INFO] [WebPush] Subscription expired, removing {"endpoint":"7q3Z0Y9m_IPVn__tV5J8FycVySWhvL"}
2025-12-16T02:16:50.740Z [INFO] [PushSubscriptions] Deleted subscription by endpoint (cleanup)
2025-12-16T02:16:50.837Z [INFO] [WebPush] Push sent successfully {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"PzGc3bWTrI0aA7_tMI0Q46ebxnf5B2","statusCode":201,"headers":{"content-security-policy-report-only":"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/goa-520bfc14_2","cross-origin-opener-policy":"same-origin","location":"https://fcm.googleapis.com/0:1765851410792667%cc9b4facf9fd7ecd","vary":"Sec-Fetch-Site, Sec-Fetch-Mode, Sec-Fetch-Dest","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-xss-protection":"0","date":"Tue, 16 Dec 2025 02:16:50 GMT","content-length":"0","content-type":"text/html; charset=UTF-8","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"}}
2025-12-16T02:16:50.838Z [INFO] [WebPush] Test notification sent {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:16:57.601Z [INFO] [SSE] Connection closed {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:17:25.112Z [INFO] [SSE] Connection closed {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:19:00.471Z [INFO] [SSE] Connection closed {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:19:10.453Z [INFO] User logged in: Jon
2025-12-16T02:19:10.605Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
2025-12-16T02:19:24.952Z [INFO] All notifications cleared {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","count":11}
2025-12-16T02:19:24.952Z [INFO] All notifications cleared {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","count":11}
2025-12-16T02:19:34.326Z [INFO] [PushSubscriptions] Created new subscription {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","subscriptionId":"a367b22a-649b-4be8-abeb-16ecc8918a3f"}
2025-12-16T02:19:34.326Z [INFO] [WebPush] Subscription created {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","subscriptionId":"a367b22a-649b-4be8-abeb-16ecc8918a3f","deviceName":"Chrome on Windows"}
2025-12-16T02:19:44.699Z [INFO] [WebPush] Sending to subscriptions {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","count":3,"endpoints":["cLXPUQ3WQN2p3wg7AQV-oTIeIReNbb","PzGc3bWTrI0aA7_tMI0Q46ebxnf5B2","BSt9GvtNR7wdHjDl30Sq2I_cWZTKZE"]}
2025-12-16T02:19:44.833Z [INFO] [WebPush] Push sent successfully {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"cLXPUQ3WQN2p3wg7AQV-oTIeIReNbb","statusCode":201,"headers":{"content-security-policy-report-only":"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/goa-520bfc14_2","cross-origin-opener-policy":"same-origin","location":"https://fcm.googleapis.com/0:1765851584809819%e609af1cf9fd7ecd","vary":"Sec-Fetch-Site, Sec-Fetch-Mode, Sec-Fetch-Dest","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-xss-protection":"0","date":"Tue, 16 Dec 2025 02:19:44 GMT","content-length":"0","content-type":"text/html; charset=UTF-8","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"}}
2025-12-16T02:19:44.837Z [INFO] [WebPush] Push sent successfully {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","endpoint":"PzGc3bWTrI0aA7_tMI0Q46ebxnf5B2","statusCode":201,"headers":{"content-security-policy-report-only":"script-src 'none'; form-action 'none'; frame-src 'none'; report-uri https://csp.withgoogle.com/csp/goa-520bfc14_2","cross-origin-opener-policy":"same-origin","location":"https://fcm.googleapis.com/0:1765851584801779%cc9b4facf9fd7ecd","vary":"Sec-Fetch-Site, Sec-Fetch-Mode, Sec-Fetch-Dest","x-content-type-options":"nosniff","x-frame-options":"SAMEORIGIN","x-xss-protection":"0","date":"Tue, 16 Dec 2025 02:19:44 GMT","content-length":"0","content-type":"text/html; charset=UTF-8","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000"}}
2025-12-16T02:19:44.858Z [INFO] [WebPush] Test notification sent {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092"}
2025-12-16T02:21:33.255Z [INFO] [SSE] New connection {"userId":"426f57e1-2283-4249-93d6-bbb3436e4092","username":"Jon"}
